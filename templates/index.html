{% extends 'base.html' %}

{% block title %}‡§∂‡§ø‡§µ‡§ï‡•Å‡§Æ‡§æ‡§∞ ‡§ï‡§ø‡§∞‡§æ‡§®‡§æ ‡§∏‡•ç‡§ü‡•ã‡§∞ Dwasi - Home{% endblock %}

{% block extra_css %}
<style>
    /* Animated Banner Background */
    .hero-animated {
        position: relative;
        overflow: hidden;
        background: linear-gradient(-45deg, #78350f, #c2410c, #d97706, #ea580c);
        background-size: 400% 400%;
        animation: gradientBG 15s ease infinite;
    }
    
    @keyframes gradientBG {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }
    
    /* Floating Items */
    .floating-items {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        pointer-events: none;
    }
    
    .float-item {
        position: absolute;
        font-size: 2rem;
        opacity: 0.3;
        animation: floatDown 8s linear infinite;
    }
    
    @keyframes floatDown {
        0% {
            transform: translateY(-100px) rotate(0deg);
            opacity: 0;
        }
        10% {
            opacity: 0.4;
        }
        90% {
            opacity: 0.4;
        }
        100% {
            transform: translateY(100vh) rotate(360deg);
            opacity: 0;
        }
    }
    
    .float-item:nth-child(1) { left: 5%; animation-delay: 0s; animation-duration: 10s; }
    .float-item:nth-child(2) { left: 15%; animation-delay: 2s; animation-duration: 12s; }
    .float-item:nth-child(3) { left: 25%; animation-delay: 4s; animation-duration: 8s; }
    .float-item:nth-child(4) { left: 35%; animation-delay: 1s; animation-duration: 11s; }
    .float-item:nth-child(5) { left: 45%; animation-delay: 3s; animation-duration: 9s; }
    .float-item:nth-child(6) { left: 55%; animation-delay: 5s; animation-duration: 13s; }
    .float-item:nth-child(7) { left: 65%; animation-delay: 2.5s; animation-duration: 10s; }
    .float-item:nth-child(8) { left: 75%; animation-delay: 1.5s; animation-duration: 8s; }
    .float-item:nth-child(9) { left: 85%; animation-delay: 4.5s; animation-duration: 11s; }
    .float-item:nth-child(10) { left: 95%; animation-delay: 0.5s; animation-duration: 9s; }
    
    /* Pulsing Glow Effect */
    .hero-glow {
        animation: pulseGlow 3s ease-in-out infinite;
    }
    
    @keyframes pulseGlow {
        0%, 100% { text-shadow: 0 0 20px rgba(255,255,255,0.5); }
        50% { text-shadow: 0 0 40px rgba(255,255,255,0.8), 0 0 60px rgba(255,255,255,0.4); }
    }
    
    /* Bounce Animation for Shop Icon */
    .bounce-icon {
        animation: bounceShop 2s ease-in-out infinite;
    }
    
    @keyframes bounceShop {
        0%, 100% { transform: translateY(0) scale(1); }
        50% { transform: translateY(-15px) scale(1.05); }
    }
</style>
{% endblock %}

{% block content %}
<!-- Animated Hero Section -->
<section class="hero-animated text-white py-16 md:py-24 relative">
    <!-- Floating Grocery Items Animation -->
    <div class="floating-items">
        <span class="float-item">üçé</span>
        <span class="float-item">ü•ï</span>
        <span class="float-item">üçö</span>
        <span class="float-item">üßÖ</span>
        <span class="float-item">ü´ò</span>
        <span class="float-item">üå∂Ô∏è</span>
        <span class="float-item">üßà</span>
        <span class="float-item">üçã</span>
        <span class="float-item">ü•î</span>
        <span class="float-item">üçû</span>
    </div>
    
    <div class="container mx-auto px-4 relative z-10">
        <div class="text-center">
            <div class="text-6xl md:text-8xl mb-4 bounce-icon">üè™</div>
            <h1 class="text-3xl md:text-5xl font-bold mb-4 hero-glow">
                ‡§∂‡§ø‡§µ‡§ï‡•Å‡§Æ‡§æ‡§∞ ‡§ï‡§ø‡§∞‡§æ‡§®‡§æ ‡§∏‡•ç‡§ü‡•ã‡§∞
            </h1>
            <p class="text-lg md:text-xl opacity-90 mb-4">
                ‡§Ü‡§™‡§ï‡•Ä ‡§∞‡•ã‡§ú‡§º‡§Æ‡§∞‡•ç‡§∞‡§æ ‡§ï‡•Ä ‡§ú‡§∞‡•Ç‡§∞‡§§‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è - Quality Groceries for Your Daily Needs
            </p>
            
            <!-- Shop Timings Badge -->
            {% if shop %}
            <div class="inline-block bg-white/20 backdrop-blur rounded-2xl px-6 py-3 mb-8 animate-pulse">
                <p class="text-lg md:text-xl font-medium">
                    üïê ‡§ñ‡•Å‡§≤‡§æ: <strong>{{ shop.open_time }}</strong> ‡§∏‡•á <strong>{{ shop.close_time }}</strong> ‡§§‡§ï
                </p>
            </div>
            {% endif %}
            
            <!-- Search Bar 
            <form action="{{ url_for('products') }}" method="GET" class="max-w-xl mx-auto">
                <div class="flex bg-white rounded-2xl shadow-2xl overflow-hidden transform hover:scale-105 transition-all duration-300">
                    <input type="text" 
                           name="search" 
                           placeholder="üîç ‡§∏‡§æ‡§Æ‡§æ‡§® ‡§ñ‡•ã‡§ú‡•á‡§Ç... (Search products)" 
                           class="flex-1 px-6 py-4 text-gray-700 text-lg outline-none">
                    <button type="submit" 
                            class="px-8 py-4 bg-primary text-white font-semibold hover:bg-primary-dark transition-all-300">
                        ‡§ñ‡•ã‡§ú‡•á‡§Ç
                    </button>
                </div>
            </form>-->
        </div>
    </div>
</section>


<!-- Animated Feature Badges Section -->
<section class="py-6 bg-gradient-to-r from-amber-100 via-orange-100 to-amber-100 relative overflow-hidden">
    <!-- Animated Background -->
    <div class="absolute inset-0 opacity-30">
        <div class="absolute top-0 left-1/4 w-20 h-20 bg-amber-300 rounded-full animate-ping"></div>
        <div class="absolute bottom-0 right-1/4 w-16 h-16 bg-orange-300 rounded-full animate-ping" style="animation-delay: 1s;"></div>
    </div>
    
    <div class="container mx-auto px-4 relative z-10">
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
            <!-- Free Delivery -->
            <div class="bg-white/80 backdrop-blur rounded-2xl p-4 text-center shadow-lg transform hover:scale-105 hover:-translate-y-1 transition-all duration-300 cursor-pointer group">
                <div class="text-4xl mb-2 group-hover:animate-bounce">üöö</div>
                <h3 class="font-bold text-gray-800">‡§Æ‡•Å‡§´‡•ç‡§§ ‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä</h3>
                <p class="text-sm text-amber-600 font-medium">Free Delivery</p>
            </div>
            
            <!-- Quality Products -->
            <div class="bg-white/80 backdrop-blur rounded-2xl p-4 text-center shadow-lg transform hover:scale-105 hover:-translate-y-1 transition-all duration-300 cursor-pointer group">
                <div class="text-4xl mb-2 group-hover:animate-bounce">üíØ</div>
                <h3 class="font-bold text-gray-800">‡§∂‡•Å‡§¶‡•ç‡§ß ‡§∏‡§æ‡§Æ‡§æ‡§®</h3>
                <p class="text-sm text-amber-600 font-medium">Quality Products</p>
            </div>
            
            <!-- Best Prices -->
            <div class="bg-white/80 backdrop-blur rounded-2xl p-4 text-center shadow-lg transform hover:scale-105 hover:-translate-y-1 transition-all duration-300 cursor-pointer group">
                <div class="text-4xl mb-2 group-hover:animate-bounce">üí∞</div>
                <h3 class="font-bold text-gray-800">‡§∏‡§∏‡•ç‡§§‡•á ‡§¶‡§æ‡§Æ</h3>
                <p class="text-sm text-amber-600 font-medium">Best Prices</p>
            </div>
            
            <!-- Trusted -->
            <div class="bg-white/80 backdrop-blur rounded-2xl p-4 text-center shadow-lg transform hover:scale-105 hover:-translate-y-1 transition-all duration-300 cursor-pointer group">
                <div class="text-4xl mb-2 group-hover:animate-bounce">ü§ù</div>
                <h3 class="font-bold text-gray-800">‡§µ‡§ø‡§∂‡•ç‡§µ‡§∏‡§®‡•Ä‡§Ø</h3>
                <p class="text-sm text-amber-600 font-medium">Trusted Service</p>
            </div>
        </div>
    </div>
</section>

<!-- Featured Products - Card Grid -->
<section class="py-12 bg-white">
    <div class="container mx-auto px-4">
        <div class="text-center mb-10">
            <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-2">
                üõçÔ∏è ‡§π‡§Æ‡§æ‡§∞‡•á ‡§∏‡§æ‡§Æ‡§æ‡§®
            </h2>
            <p class="text-gray-600">Our Products - ‡§´‡•ç‡§∞‡•á‡§∂ ‡§î‡§∞ ‡§∂‡•Å‡§¶‡•ç‡§ß</p>
        </div>
        
        {% if products %}
        <!-- Card Grid - All Featured Products -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6">
            {% for product in products %}
            <div class="bg-gradient-to-br from-amber-50 to-orange-50 rounded-2xl shadow-lg overflow-hidden card-hover transition-all-300 border border-amber-100 group">
                <!-- Product Image -->
                <div class="h-36 md:h-44 relative overflow-hidden bg-gradient-to-br from-amber-100 to-orange-100">
                    {% if product.image and product.image != 'default.png' %}
                        <img src="{{ url_for('static', filename='images/uploads/' + product.image) }}" 
                             alt="{{ product.name }}"
                             class="w-full h-full object-contain group-hover:scale-110 transition-all duration-500">
                    {% else %}
                        <div class="w-full h-full flex items-center justify-center text-6xl group-hover:scale-110 transition-all duration-300">
                            üõí
                        </div>
                    {% endif %}
                    <!-- Availability Badge -->
                    {% if product.is_available %}
                    <div class="absolute top-2 right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full">
                        ‚úì ‡§â‡§™‡§≤‡§¨‡•ç‡§ß
                    </div>
                    {% endif %}
                </div>
                
                <!-- Product Info -->
                <div class="p-4">
                    <h3 class="font-bold text-gray-800 text-sm md:text-base truncate mb-2">
                        {{ product.name }}
                    </h3>
                    <div class="flex items-center justify-between">
                        <span class="text-xl md:text-2xl font-bold text-primary">
                            ‚Çπ{{ product.price|int }}
                        </span>
                        <button onclick="addToCart({{ product.id }}, '{{ product.name }}', {{ product.price }})"
                                class="px-4 py-2 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-xl text-sm font-bold hover:opacity-90 transition-all btn-press shadow-md">
                            + ‡§ú‡•ã‡§°‡§º‡•á‡§Ç
                        </button>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <!-- View All Button -->
        <div class="text-center mt-10">
            <a href="{{ url_for('products') }}" 
               class="inline-block px-8 py-4 bg-gradient-to-r from-amber-600 to-orange-600 text-white font-bold rounded-2xl text-lg hover:opacity-90 transition-all btn-press shadow-lg">
                üì¶ ‡§∏‡§≠‡•Ä ‡§∏‡§æ‡§Æ‡§æ‡§® ‡§¶‡•á‡§ñ‡•á‡§Ç (View All)
            </a>
        </div>
        {% else %}
        <div class="text-center py-12">
            <div class="text-6xl mb-4">üì¶</div>
            <p class="text-gray-600 text-lg">‡§Ö‡§≠‡•Ä ‡§ï‡•ã‡§à ‡§∏‡§æ‡§Æ‡§æ‡§® ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à</p>
            <p class="text-gray-500">Products will be added soon</p>
        </div>
        {% endif %}
    </div>
</section>

<!-- Product Slider Section -->
{% if products %}
<section class="py-10 bg-amber-50">
    <div class="container mx-auto px-4">
        <div class="flex items-center justify-between mb-6">
            <h2 class="text-xl md:text-2xl font-bold text-gray-800">
                üî• ‡§≤‡•ã‡§ï‡§™‡•ç‡§∞‡§ø‡§Ø ‡§∏‡§æ‡§Æ‡§æ‡§®
            </h2>
            <a href="{{ url_for('products') }}" class="text-amber-600 hover:text-amber-700 font-medium text-sm flex items-center gap-1">
                ‡§∏‡§≠‡•Ä ‡§¶‡•á‡§ñ‡•á‡§Ç <span>‚Üí</span>
            </a>
        </div>
        
        <!-- Slider Container -->
        <div class="relative group/slider">
            <!-- Left Arrow - Shows on hover -->
            <button onclick="scrollSlider(-1)" 
                    class="absolute -left-2 md:left-0 top-1/2 -translate-y-1/2 z-10 w-10 h-16 bg-white shadow-lg rounded-full opacity-0 group-hover/slider:opacity-100 transition-all duration-300 flex items-center justify-center hover:bg-amber-100 hover:scale-110">
                <span class="text-2xl text-amber-600">‚Äπ</span>
            </button>
            
            <!-- Products Slider -->
            <div id="productSlider" class="flex gap-4 overflow-x-auto scroll-smooth pb-4 hide-scrollbar px-2">
                {% for product in products %}
                <div class="flex-shrink-0 w-40 md:w-48 bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-all duration-300 group cursor-pointer">
                    <!-- Product Image -->
                    <div class="h-28 md:h-36 relative overflow-hidden bg-gradient-to-br from-amber-50 to-orange-50">
                        {% if product.image and product.image != 'default.png' %}
                            <img src="{{ url_for('static', filename='images/uploads/' + product.image) }}" 
                                 alt="{{ product.name }}"
                                 class="w-full h-full object-contain group-hover:scale-110 transition-all duration-500">
                        {% else %}
                            <div class="w-full h-full flex items-center justify-center text-4xl group-hover:scale-110 transition-all duration-300">
                                üõí
                            </div>
                        {% endif %}
                    </div>
                    
                    <!-- Product Info -->
                    <div class="p-3">
                        <h3 class="font-medium text-gray-800 text-sm truncate mb-1">
                            {{ product.name }}
                        </h3>
                        <div class="flex items-center justify-between">
                            <span class="text-lg font-bold text-primary">
                                ‚Çπ{{ product.price|int }}
                            </span>
                            <button onclick="addToCart({{ product.id }}, '{{ product.name }}', {{ product.price }})"
                                    class="p-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-all text-xs">
                                üõí+
                            </button>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            
            <!-- Right Arrow - Shows on hover -->
            <button onclick="scrollSlider(1)" 
                    class="absolute -right-2 md:right-0 top-1/2 -translate-y-1/2 z-10 w-10 h-16 bg-white shadow-lg rounded-full opacity-0 group-hover/slider:opacity-100 transition-all duration-300 flex items-center justify-center hover:bg-amber-100 hover:scale-110">
                <span class="text-2xl text-amber-600">‚Ä∫</span>
            </button>
        </div>
        
        <!-- Slider JS -->
        <script>
            function scrollSlider(direction) {
                const slider = document.getElementById('productSlider');
                const scrollAmount = 180;
                slider.scrollBy({ left: direction * scrollAmount, behavior: 'smooth' });
            }
        </script>
    </div>
</section>
{% endif %}

<!-- How to Order Section -->
<section class="py-12 bg-gradient-to-r from-amber-700 to-orange-600 text-white">
    <div class="container mx-auto px-4">
        <div class="text-center mb-10">
            <h2 class="text-2xl md:text-3xl font-bold mb-2">
                üì± ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§ï‡•à‡§∏‡•á ‡§ï‡§∞‡•á‡§Ç?
            </h2>
            <p class="opacity-90">How to Order - 3 ‡§Ü‡§∏‡§æ‡§® ‡§∏‡•ç‡§ü‡•á‡§™‡•ç‡§∏</p>
        </div>
        
        <div class="grid md:grid-cols-3 gap-8 max-w-4xl mx-auto">
            <div class="text-center">
                <div class="w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4">
                    <span class="text-4xl">1Ô∏è‚É£</span>
                </div>
                <h3 class="text-xl font-bold mb-2">‡§∏‡§æ‡§Æ‡§æ‡§® ‡§ö‡•Å‡§®‡•á‡§Ç</h3>
                <p class="opacity-90">Select Products</p>
            </div>
            <div class="text-center">
                <div class="w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4">
                    <span class="text-4xl">2Ô∏è‚É£</span>
                </div>
                <h3 class="text-xl font-bold mb-2">‡§™‡§§‡§æ ‡§≠‡§∞‡•á‡§Ç</h3>
                <p class="opacity-90">Fill Address</p>
            </div>
            <div class="text-center">
                <div class="w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4">
                    <span class="text-4xl">3Ô∏è‚É£</span>
                </div>
                <h3 class="text-xl font-bold mb-2">WhatsApp ‡§™‡§∞ ‡§≠‡•á‡§ú‡•á‡§Ç</h3>
                <p class="opacity-90">Send on WhatsApp</p>
            </div>
        </div>
    </div>
</section>
{% endblock %}
